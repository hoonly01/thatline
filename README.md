<div align="center">
  <h1>ğŸ“š ThatLine - Capture Your Literary Moments</h1>
  <h3>ê·¸ë•Œ ê·¸ ë¬¸ì¥ | Spring 2025 FSSN</h3>

  [![Flutter](https://img.shields.io/badge/Flutter-3.0+-02569B?logo=flutter)](https://flutter.dev/)
  [![Dart](https://img.shields.io/badge/Dart-3.0+-0175C2?logo=dart)](https://dart.dev/)
  [![iOS](https://img.shields.io/badge/iOS-13.0+-000000?logo=apple)](https://www.apple.com/ios/)

  <p>ThatLineì€ ë…ì„œ ê¸°ë¡ê³¼ íë ˆì´ì…˜ì„ ìœ„í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. <strong>On-device AI OCR</strong>ì„ í™œìš©í•œ ë¬¸ì¥ ì¶”ì¶œ, ë¬¸ì¥ ì €ì¥, íë ˆì´ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
</div>

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“¸ On-Device OCR í…ìŠ¤íŠ¸ ì¶”ì¶œ âš¡
- **ì˜¤í”„ë¼ì¸ ì§€ì›**: ì¸í„°ë„· ì—°ê²° ì—†ì´ ì‚¬ìš© ê°€ëŠ¥
- **ë¹ ë¥¸ ì²˜ë¦¬**: 0.5-1ì´ˆ ë‚´ í…ìŠ¤íŠ¸ ì¸ì‹ (ê¸°ì¡´ ëŒ€ë¹„ 3ë°° í–¥ìƒ)
- **Apple Vision Framework**: iOSì— ìµœì í™”ëœ ê³ ì •ë°€ í•œêµ­ì–´/ì˜ì–´ ì¸ì‹
- ê°¤ëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ ì„ íƒ í›„ ì¦‰ì‹œ ì²˜ë¦¬
- ì¸ì‹ëœ ë¬¸ì¥ í¸ì§‘ ë° ì±… ì •ë³´ ì…ë ¥ ê°€ëŠ¥

### ğŸ“š ë¬¸ì¥ ê´€ë¦¬
- ë§ˆìŒì— ë“œëŠ” ë¬¸ì¥ ì €ì¥
- ë¶ë§ˆí¬ ë° íƒœê·¸ ê¸°ëŠ¥
- ê²€ìƒ‰ ê¸°ëŠ¥ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì°¾ê¸°

### ğŸŒŸ íë ˆì´ì…˜
- í…Œë§ˆë³„ ë¬¸ì¥ ëª¨ìŒ
- ë„ì„œ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸
- ì„œì /ë„ì„œê´€ íë ˆì´ì…˜

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ
- **Flutter 3.0+**: í¬ë¡œìŠ¤ í”Œë«í¼ UI í”„ë ˆì„ì›Œí¬
- **Dart 3.0+**: í”„ë¡œê·¸ë˜ë° ì–¸ì–´
- **Apple Vision Framework**: iOS On-device OCR (ë„¤ì´í‹°ë¸Œ)
- **Provider**: ìƒíƒœ ê´€ë¦¬
- **UUID**: ê³ ìœ  ì‹ë³„ì ìƒì„±

### ë°±ì—”ë“œ
- **Dart with Shelf**: ì„œë²„ í”„ë ˆì„ì›Œí¬
- **SQLite**: ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤
- **JWT**: ì¸ì¦ (ì˜ˆì •)

### í”Œë«í¼ ì§€ì›
- âœ… **iOS 13.0+**: ì™„ì „ ì§€ì› (On-device OCR)
- ğŸš§ **Android**: ì„œë²„ OCR Fallback (í–¥í›„ Google ML Kit ì§€ì› ì˜ˆì •)

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ì¡°ê±´

#### iOS ê°œë°œ (ê¶Œì¥)
- **macOS**: Xcode ê°œë°œìš©
- **Flutter SDK**: 3.0.0 ì´ìƒ
- **Xcode**: 15.0 ì´ìƒ
- **iOS Simulator** ë˜ëŠ” **ì‹¤ì œ iPhone** (iOS 13.0+)

#### ë°±ì—”ë“œ
- **Dart SDK**: 3.0.0 ì´ìƒ

### ì„¤ì¹˜

1. **ì €ì¥ì†Œ í´ë¡ **
```bash
git clone https://github.com/hoonly01/thatline.git
cd thatline
```

2. **ì˜ì¡´ì„± ì„¤ì¹˜**
```bash
# Flutter ì•±
cd client
flutter pub get

# iOS ì˜ì¡´ì„± (macOSì—ì„œë§Œ)
cd ios
pod install
cd ..

# ë°±ì—”ë“œ
cd ../server
dart pub get
```

3. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**

**iOS ì•± (On-device OCR):**
```bash
cd client
flutter run -d ios
```

ë˜ëŠ” Xcodeì—ì„œ:
```bash
open ios/Runner.xcworkspace
```

**ë°±ì—”ë“œ ì„œë²„ (ì„ íƒ):**
```bash
cd server
dart run bin/server.dart
```
ì„œë²„ëŠ” `http://localhost:8080`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

> **ì°¸ê³ **: iOSì—ì„œ On-device OCRì„ ì‚¬ìš©í•˜ë¯€ë¡œ ë°±ì—”ë“œ ì„œë²„ ì—†ì´ë„ OCR ê¸°ëŠ¥ì´ ì‘ë™í•©ë‹ˆë‹¤.

## ğŸ“š API ë¬¸ì„œ

Swagger UIë¥¼ í†µí•´ API ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```
http://localhost:8080/docs
```

### ğŸ“¡ ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

#### ğŸ” OCR (Fallbackìš© - Android ë“±)
- `POST /ocr/text`: ì´ë¯¸ì§€ì—ì„œ í…ìŠ¤íŠ¸ ì¶”ì¶œ (ì„œë²„ ê¸°ë°˜)
- `POST /ocr/form`: í¼ ë°ì´í„°ë¡œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° í…ìŠ¤íŠ¸ ì¶”ì¶œ

> **ì°¸ê³ **: iOSëŠ” On-device OCRì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì„œë²„ OCR ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

#### ğŸ“ ë¬¸ì¥
- `GET /sentences`: ì €ì¥ëœ ë¬¸ì¥ ëª©ë¡ ì¡°íšŒ
- `POST /sentences`: ìƒˆ ë¬¸ì¥ ì €ì¥
  ```json
  {
    "sentenceId": "string",
    "text": "string",
    "bookName": "string",
    "bookWriter": "string",
    "date": "string",
    "imageUrl": "string"
  }
  ```

#### ğŸ¨ íë ˆì´ì…˜
- `GET /curation/{curationId}`: íë ˆì´ì…˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ
  ```json
  {
    "title": "string",
    "subtitle": "string",
    "image": "string",
    "description": "string",
    "recommenderTitle": "string",
    "recommenderLocation": {
      "latitude": 0,
      "longitude": 0
    },
    "books": [
      {
        "title": "string",
        "author": "string",
        "coverImage": "string"
      }
    ]
  }
  ```

## ğŸ¤ ê¸°ì—¬ ë°©ë²•

1. ì´ ì €ì¥ì†Œë¥¼ í¬í¬í•˜ì„¸ìš”.
2. ìƒˆë¡œìš´ ê¸°ëŠ¥ ë¸Œëœì¹˜ë¥¼ ë§Œë“œì„¸ìš”: `git checkout -b feature/amazing-feature`
3. ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•˜ì„¸ìš”: `git commit -m 'Add some amazing feature'`
4. ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ì„¸ìš”: `git push origin feature/amazing-feature`
5. í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì˜¤í”ˆí•˜ì„¸ìš”.

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ¯ ê¸°ìˆ ì  í•˜ì´ë¼ì´íŠ¸

### On-Device OCR êµ¬í˜„
- **Apple Vision Framework**: VNRecognizeTextRequest ì‚¬ìš©
- **Thread Safety**: DispatchQueue.main.asyncë¡œ ëª¨ë“  ì½œë°± ì²˜ë¦¬
- **Method Channel**: Flutter â†” iOS Native í†µì‹ 
- **ê³ ì •ë°€ ì¸ì‹**: `.accurate` ëª¨ë“œ + í•œêµ­ì–´/ì˜ì–´ ìš°ì„  ì„¤ì •
- **ì—ëŸ¬ ì²˜ë¦¬**: ì‚¬ìš©ì ì¹œí™”ì  í•œêµ­ì–´ ë©”ì‹œì§€

### ì„±ëŠ¥ ìµœì í™”
- **OCR ì²˜ë¦¬ ì‹œê°„**: 0.5-1ì´ˆ (ê¸°ì¡´ 2-3ì´ˆ ëŒ€ë¹„ 3ë°° í–¥ìƒ)
- **ì˜¤í”„ë¼ì¸ ì§€ì›**: ë„¤íŠ¸ì›Œí¬ ë¶ˆí•„ìš”
- **API ë¹„ìš©**: $0 (ê¸°ì¡´ ì›” $X ì ˆê°)
- **ì•± í¬ê¸°**: ì•½ 45MB (Vision FrameworkëŠ” iOS ë‚´ì¥)

### ì½”ë“œ í’ˆì§ˆ
- **UUID v4**: ì¶©ëŒ ì—†ëŠ” ê³ ìœ  ID ìƒì„±
- **Safe Casting**: guard letìœ¼ë¡œ í¬ë˜ì‹œ ë°©ì§€
- **Exception Handling**: code, details ì •ë³´ ë³´ì¡´
- **Fallback**: iOS ì™¸ í”Œë«í¼ì€ ì„œë²„ OCR ìë™ ì „í™˜

---

## ğŸ“§ ë¬¸ì˜ ë° ê¸°ì—¬

### ë¬¸ì˜
í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ëŠ” [Issue](https://github.com/hoonly01/thatline/issues)ë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.

### ê¸°ì—¬ ë°©ë²•
1. ì´ ì €ì¥ì†Œë¥¼ í¬í¬í•˜ì„¸ìš”
2. ìƒˆë¡œìš´ ê¸°ëŠ¥ ë¸Œëœì¹˜ë¥¼ ë§Œë“œì„¸ìš”: `git checkout -b feature/amazing-feature`
3. ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•˜ì„¸ìš”: `git commit -m 'Add amazing feature'`
4. ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ì„¸ìš”: `git push origin feature/amazing-feature`
5. Pull Requestë¥¼ ì˜¤í”ˆí•˜ì„¸ìš”

---

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### images
- `id`: INTEGER PRIMARY KEY
- `image_path`: TEXT
- `text_content`: TEXT
- `created_at`: TIMESTAMP

### sentences
- `id`: INTEGER PRIMARY KEY
- `sentence_id`: TEXT UNIQUE
- `text`: TEXT
- `book_name`: TEXT
- `book_writer`: TEXT
- `date`: TEXT
- `image_url`: TEXT
- `created_at`: TIMESTAMP

### curations
- `id`: INTEGER PRIMARY KEY
- `title`: TEXT
- `subtitle`: TEXT
- `image`: TEXT
- `description`: TEXT
- `recommender_title`: TEXT
- `recommender_name`: TEXT
- `recommender_latitude`: REAL
- `recommender_longitude`: REAL
- `created_at`: TIMESTAMP

### books
- `id`: INTEGER PRIMARY KEY
- `name`: TEXT
- `writer`: TEXT
- `summary`: TEXT
- `image`: TEXT
- `created_at`: TIMESTAMP

### curation_books
- `curation_id`: INTEGER
- `book_id`: INTEGER
- `created_at`: TIMESTAMP
- PRIMARY KEY (curation_id, book_id)
- FOREIGN KEY (curation_id) REFERENCES curations (id)
- FOREIGN KEY (book_id) REFERENCES books (id)

---

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- [ê°œë°œ ê³„íš](./DEVELOPMENT_PLAN.md) - 3ì¼ ê°œë°œ ì¼ì • ë° êµ¬í˜„ ê°€ì´ë“œ
- [ê¸°ìˆ  ì¦ëª…](./PROOF_OF_CONCEPT.md) - Flutter + Vision Framework í˜¸í™˜ì„± ì¦ëª…
- [êµ¬í˜„ ìš”ì•½](./IMPLEMENTATION_SUMMARY.md) - ìƒì„¸ êµ¬í˜„ ë³´ê³ ì„œ
- [ì½”ë“œ ë¦¬ë·° ì‘ë‹µ](./CODE_REVIEW_RESPONSE.md) - PR #8 ì½”ë“œ ë¦¬ë·° ëŒ€ì‘

---

<div align="center">
  <p>Made with â¤ï¸ by ThatLine Team</p>
  <p>Spring 2025 FSSN Project</p>
</div>
